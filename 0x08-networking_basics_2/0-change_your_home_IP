#!/bin/bash

# Update localhost entry
sed -i '/^localhost/s/127.0.0.1/127.0.0.2/' /etc/hosts

# Add custom entry for facebook.com
echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts

# Flush DNS cache
sudo /etc/init.d/dns-cache-flush

echo "localhost now resolves to 127.0.0.2 and facebook.com to 8.8.8.8."

echo "**IMPORTANT:**"
echo "Reverting localhost to 127.0.0.1 is recommended for regular use to avoid breaking applications."
echo "Run 'sudo sed -i '/^localhost/s/127.0.0.2/127.0.0.1/' /etc/hosts' to revert the change."

exit 0
